# PaymentService - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –ø–ª–∞—Ç–µ–∂–µ–π

–ü—Ä–æ–¥–∞–∫—à–Ω-–≥–æ—Ç–æ–≤—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –¥–ª—è MyStore —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

## üöÄ –§—É–Ω–∫—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —à–ª—é–∑–æ–≤
- **–°–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤** —Å —á–∞—Å—Ç–∏—á–Ω—ã–º–∏ –∏ –ø–æ–ª–Ω—ã–º–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞–º–∏
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —Å —Ä–æ–ª–µ–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** —Å FluentValidation
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å Redis –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —à–ª—é–∑–æ–≤

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Rate limiting** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
- **Structured logging** —Å Serilog –∏ correlation ID
- **Health checks** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
- **Prometheus –º–µ—Ç—Ä–∏–∫–∏** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Global exception handling** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏
- **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Clean Architecture** —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤
- **Repository Pattern** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- **SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã** –≤ –¥–∏–∑–∞–π–Ω–µ –∫–ª–∞—Å—Å–æ–≤
- **Dependency Injection** –¥–ª—è —Å–ª–∞–±–æ–π —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏
- **AutoMapper** –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **.NET 8** - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Redis** - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Entity Framework Core** - ORM —Å Fluent API
- **FluentValidation** - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Serilog** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **AutoMapper** - –ú–∞–ø–ø–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤
- **MassTransit + RabbitMQ** - –û–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- **Prometheus** - –ú–µ—Ç—Ä–∏–∫–∏
- **Polly** - Resilience patterns
- **Swagger/OpenAPI** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- .NET 8 SDK
- PostgreSQL 13+
- Redis 6+
- RabbitMQ 3.8+
- –ü–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑ (Stripe, PayPal –∏ –¥—Ä.)

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd PaymentService
dotnet restore
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ `appsettings.json`:

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Database=PaymentServiceDb;Username=postgres;Password=your_password;"
  }
}
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Redis:

```bash
# Windows (—á–µ—Ä–µ–∑ Chocolatey)
choco install redis-64

# Linux/Mac
sudo apt-get install redis-server
# –∏–ª–∏
brew install redis
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ RabbitMQ

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ RabbitMQ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Ubuntu)
sudo apt-get install rabbitmq-server

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo rabbitmqctl add_user mystore_user password
sudo rabbitmqctl set_permissions -p / mystore_user ".*" ".*" ".*"
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ —à–ª—é–∑–∞

–û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ —à–ª—é–∑–∞ –≤ `appsettings.json`:

```json
{
  "PaymentGateway": {
    "BaseUrl": "https://api.stripe.com/v1/",
    "PublicKey": "pk_test_your_stripe_public_key",
    "SecretKey": "sk_test_your_stripe_secret_key",
    "WebhookSecret": "whsec_your_webhook_secret"
  }
}
```

### 6. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
dotnet ef migrations add InitialCreate
dotnet ef database update
```

## üöÄ –ó–∞–ø—É—Å–∫

### Development —Ä–µ–∂–∏–º

```bash
dotnet run --environment Development
```

### Production —Ä–µ–∂–∏–º

```bash
dotnet run --environment Production
```

### Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t paymentservice .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8080:8080 -e ASPNETCORE_ENVIRONMENT=Production paymentservice
```

## üìä API Endpoints

### –ü–ª–∞—Ç–µ–∂–∏

- `POST /api/v1/payments` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- `GET /api/v1/payments/{id}` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ –ø–æ ID
- `GET /api/v1/payments/user` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/v1/payments` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–µ–π (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
- `PUT /api/v1/payments/{id}/status` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞

### –í–æ–∑–≤—Ä–∞—Ç—ã

- `POST /api/v1/payments/{id}/refunds` - –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞
- `GET /api/v1/refunds/{id}` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ ID
- `GET /api/v1/payments/{id}/refunds` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –ø–æ –ø–ª–∞—Ç–µ–∂—É

### Webhooks

- `POST /api/v1/webhooks/payment-gateway` - Webhook –æ—Ç –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ —à–ª—é–∑–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- `GET /health` - Health check
- `GET /health-ui` - Health check UI
- `GET /metrics` - Prometheus –º–µ—Ç—Ä–∏–∫–∏

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
PaymentService/
‚îú‚îÄ‚îÄ Controllers/          # API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îú‚îÄ‚îÄ Services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ Repositories/        # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
‚îú‚îÄ‚îÄ Entities/           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ DTOs/               # –û–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ Interfaces/         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ Validators/         # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã FluentValidation
‚îú‚îÄ‚îÄ Middlewares/        # –ö–∞—Å—Ç–æ–º–Ω—ã–µ middleware
‚îú‚îÄ‚îÄ Configurations/     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
‚îú‚îÄ‚îÄ MappingProfiles/    # AutoMapper –ø—Ä–æ—Ñ–∏–ª–∏
‚îú‚îÄ‚îÄ HealthChecks/       # Health check –∫–ª–∞—Å—Å—ã
‚îî‚îÄ‚îÄ Data/               # DbContext –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ EF
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Production)

```bash
DATABASE_CONNECTION_STRING="Host=prod-db;Database=PaymentServiceDb;Username=app;Password=secure_password;"
REDIS_CONNECTION_STRING="prod-redis:6379"
RABBITMQ_CONNECTION_STRING="amqp://user:password@prod-rabbitmq:5672/"
JWT_SECRET_KEY="your-super-secure-jwt-secret-key-here"
JWT_ISSUER="MyStore.PaymentService"
JWT_AUDIENCE="MyStore.Client"
PAYMENT_GATEWAY_BASE_URL="https://api.stripe.com/v1/"
PAYMENT_GATEWAY_PUBLIC_KEY="pk_live_your_live_public_key"
PAYMENT_GATEWAY_SECRET_KEY="sk_live_your_live_secret_key"
PAYMENT_GATEWAY_WEBHOOK_SECRET="whsec_your_live_webhook_secret"
FRONTEND_URL="https://mystore.com"
ADMIN_PANEL_URL="https://admin.mystore.com"
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health Checks

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ health check endpoints:

- `/health` - –û—Å–Ω–æ–≤–Ω–æ–π health check
- `/health-ui` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –ú–µ—Ç—Ä–∏–∫–∏ Prometheus

–î–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å—É `/metrics`:

- HTTP –∑–∞–ø—Ä–æ—Å—ã –∏ –∏—Ö –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ CPU

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Serilog:

- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –§–∞–π–ª–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
- Correlation ID –¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –†–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- JWT Bearer —Ç–æ–∫–µ–Ω—ã
- –†–æ–ª–µ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (User, Admin)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏

### Rate Limiting

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç—ã: 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ 5 –º–∏–Ω—É—Ç
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ª–∏–º–∏—Ç—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- FluentValidation –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª—é—Ç–Ω—ã—Ö –∫–æ–¥–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤ –æ–ø–ª–∞—Ç—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º –∏ –æ–ø–∏—Å–∞–Ω–∏–π

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
   sudo systemctl status postgresql
   ```

2. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Redis
   redis-cli ping
   ```

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å RabbitMQ**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å RabbitMQ
   sudo systemctl status rabbitmq-server
   ```

### –õ–æ–≥–∏

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫–µ `logs/`:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤
tail -f logs/payment-service-*.log
```

### Health Checks

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```bash
curl http://localhost:8080/health
```

## üö¢ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker Compose

```yaml
version: '3.8'
services:
  paymentservice:
    build: .
    ports:
      - "8080:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Production
      - DATABASE_CONNECTION_STRING=Host=db;Database=PaymentServiceDb;Username=postgres;Password=postgres;
      - REDIS_CONNECTION_STRING=redis:6379
    depends_on:
      - db
      - redis
      - rabbitmq

  db:
    image: postgres:15
    environment:
      POSTGRES_DB: PaymentServiceDb
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres

  redis:
    image: redis:7-alpine

  rabbitmq:
    image: rabbitmq:3-management
    environment:
      RABBITMQ_DEFAULT_USER: guest
      RABBITMQ_DEFAULT_PASS: guest
```

### Kubernetes

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: paymentservice
spec:
  replicas: 3
  selector:
    matchLabels:
      app: paymentservice
  template:
    metadata:
      labels:
        app: paymentservice
    spec:
      containers:
      - name: paymentservice
        image: paymentservice:latest
        ports:
        - containerPort: 8080
        env:
        - name: ASPNETCORE_ENVIRONMENT
          value: "Production"
        - name: DATABASE_CONNECTION_STRING
          valueFrom:
            secretKeyRef:
              name: paymentservice-secrets
              key: database-connection
```

## ü§ù –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### OrderService

PaymentService –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å OrderService –¥–ª—è:

- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–∞—Ö
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

### AuthService

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã –æ—Ç AuthService –¥–ª—è:

- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

## üìù Changelog

### v1.0.0
- –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –ø–ª–∞—Ç–µ–∂–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Stripe –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ —à–ª—é–∑–∞
- –°–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
- Health checks –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üë• –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- **Backend Team** - –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **DevOps Team** - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **QA Team** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏:

1. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ FAQ

---

**PaymentService** - –ù–∞–¥–µ–∂–Ω—ã–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π —Å–µ—Ä–≤–∏—Å –ø–ª–∞—Ç–µ–∂–µ–π –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö e-commerce —Ä–µ—à–µ–Ω–∏–π.
